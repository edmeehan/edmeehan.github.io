{"version":3,"sources":["webpack:///./_javascript/modules/animations_index_hireme.js","webpack:///./_javascript/modules/animations_index_intro.js","webpack:///./_javascript/modules/scroll_into_view.js","webpack:///./_javascript/page_index.js","webpack:///./node_modules/animejs/lib/anime.es.js","webpack:///./node_modules/custom-event-polyfill/polyfill.js"],"names":["defaults","duration","opacity","autoplay","AnimationBlock","constructor","config","anime","prototype","play","started","intro","targets","translateY","scale","delay","stagger","notes","frontend","cro","ga","easing","contentIn","rotate","contentOut","loopAni","contentAni","navTargets","complete","ani","loop","Array","isArray","content","contentAnime","nav","playIn","reversed","reverse","pause","playOut","forEach","item","restart","welcome","translateX","origin","timeline","add","value","from","recreation","direction","family","endDelay","ScrollIntoView","eventLabel","watchArray","rafId","undefined","rafActive","target","windowHeight","window","addEventListener","scroll","bind","resized","event","watching","nodeList","concat","filter","indexOf","setup","remove","innerHeight","scrollY","pageYOffset","startAnimation","length","requestAnimationFrame","updateAnimation","height","half","rect","getBoundingClientRect","isVisable","top","bottom","pixels","dispatchEvent","CustomEvent","bubbles","detail","node","toFixed","focused","cancelAnimationFrame","introScrollerNode","document","getElementById","hireMeNode","introScrollerContentNodes","getElementsByClassName","hireMeScrollerNodes","querySelectorAll","isMobileMQ","matchMedia","fakeScrollNode","contentNodeOfFocus","wrapperFixed","prepFakeScroll","fakeScroll","createElement","index","scrollShim","children","style","className","id","dataset","appendChild","prepForAnimation","animationNodes","matches","computedStyles","getComputedStyle","leftMargin","parseInt","marginLeft","leftPadding","paddingLeft","transformOrigin","introScrollerVisibleListener","visible","name","querySelector","classList","aniIntro","lastChild","contains","hireMeScrollerVisibleListener","cleanup","animate","aniHireMe","removeEventListener","introScrollerProgressListener","boxHeight","boxBottom","percent","setAttribute","recalculate","init","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","timelineOffset","defaultTweenSettings","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","text","applyArguments","func","args","apply","is","arr","a","obj","Object","toString","call","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","hex","test","rgb","hsl","col","key","parseEasingParameters","string","match","exec","split","map","p","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","x","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","baseEasings","keys","easeIn","parseEasings","ease","selectString","nodes","e","filterArray","callback","len","thisArg","arguments","result","push","flattenArray","reduce","toArray","o","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","replace","m","r","g","hslToRgba","hslValue","h","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","total","getAttribute","el","prop","convertPxToUnit","unit","valueUnit","baseline","tempEl","tagName","parentEl","parentNode","body","position","width","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","set","getTransformValue","defaultVal","get","list","getOriginalTargetValue","getRelativeValue","to","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","points","totalLength","previousPos","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","viewBoxAttr","viewBox","w","getPath","path","property","getPathProgress","point","offset","getPointAtLength","p0","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targetsArray","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","v","k","flattenKeyframes","keyframes","propertyNames","properties","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","object","manual","last","setTargetsValue","animatables","animType","createAnimation","lastTween","type","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","activeInstances","pausedInstances","raf","engine","step","activeInstancesLength","activeInstance","paused","tick","instanceIndex","splice","handleVisibilityChange","hidden","ins","running","startTime","lastTime","now","childrenLength","resolve","makePromise","instance","promise","Promise","_resolve","finished","toggleInstanceDirection","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","removeTargetsFromAnimations","removeTargets","c","childAnimations","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","tl","instanceParams","tlIndex","insParams","tlDuration","version","convertPx","random","ce","cancelable","preventDefault","defaultPrevented","Error","evt","origPrevent","createEvent","initCustomEvent","defineProperty","Event"],"mappings":"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","file":"page_index.js","sourcesContent":["import anime from 'animejs/lib/anime.es';\n\nconst defaults = {\n  duration: 1400,\n  opacity: [0, 1],\n  autoplay: false\n};\n\nclass AnimationBlock {\n  constructor(config) {\n    this.config = { ...config, ...defaults };\n    // this.config.complete = (ani) => this.complete(ani);\n    this.anime = anime(this.config);\n  }\n}\n\nAnimationBlock.prototype.play = function play() {\n  if (!this.started) this.anime.play();\n};\n\n// AnimationBlock.prototype.complete = function complete(ani) {\n//   // console.log(ani);\n// };\n\nexport const intro = new AnimationBlock({\n  targets: '.hireme__intro > *',\n  translateY: ['25px', 0],\n  scale: [1.1, 1],\n  delay: anime.stagger(500)\n});\n\nexport const notes = new AnimationBlock({\n  targets: '.hireme__notes-item',\n  translateY: ['25px', 0],\n  scale: [1.5, 1],\n  delay: anime.stagger(250)\n});\n\nexport const frontend = new AnimationBlock({\n  targets: '.hireme__frontend > *',\n  translateY: ['25px', 0],\n  scale: [1.5, 1],\n  delay: anime.stagger(250)\n});\n\nexport const cro = new AnimationBlock({\n  targets: '.hireme__cro > *',\n  translateY: ['25px', 0],\n  scale: [1.5, 1],\n  delay: anime.stagger(250)\n});\n\nexport const ga = new AnimationBlock({\n  targets: '.hireme__ga > *',\n  translateY: ['25px', 0],\n  scale: [1.5, 1],\n  delay: anime.stagger(250)\n});\n","import anime from 'animejs/lib/anime.es';\n\nconst defaults = {\n    duration: 600,\n    delay: 400,\n    autoplay: false,\n    easing: 'easeOutElastic(1, .8)',\n  },\n  contentIn = {\n    delay: 500,\n    duration: 900,\n    rotate: [40, 0],\n    opacity: [0, 1],\n    easing: 'easeOutElastic'\n  },\n  contentOut = {\n    duration: 600,\n    rotate: [0, -40],\n    opacity: [1, 0],\n    easing: 'easeInQuint'\n  };\n\nclass AnimationBlock {\n  constructor(config, loopAni = false, contentAni = false, navTargets) {\n    // main animation\n    this.config = { ...config, ...defaults };\n    this.config.complete = (ani) => this.complete(ani);\n    this.anime = anime(this.config);\n    // loop animation - plays on complete of main\n    this.loop = Array.isArray(loopAni) ? loopAni : [loopAni];\n    // content animation\n    this.content = contentAni;\n    this.contentAnime = false;\n    // nav animation\n    this.nav = navTargets ? anime({\n      targets: navTargets,\n      autoplay: false,\n      // fill: '#58d79c',\n      scale: [1.9, 0.5],\n      duration: 800\n    }) : false;\n  }\n}\n\nAnimationBlock.prototype.playIn = function playIn() {\n  if (this.anime.reversed) this.anime.reverse();\n  this.anime.play();\n\n  if (this.nav) {\n    if (this.nav.reversed) this.nav.reverse();\n    this.nav.play();\n  }\n\n  if (this.content) {\n    if (this.contentAnime) this.contentAnime.pause();\n    this.contentAnime = anime({ ...this.content, ...contentIn });\n  }\n};\n\nAnimationBlock.prototype.playOut = function playOut() {\n  if (!this.anime.reversed) this.anime.reverse();\n  this.anime.play();\n\n  if (this.nav) {\n    if (!this.nav.reversed) this.nav.reverse();\n    this.nav.play();\n  }\n\n  if (this.content) {\n    if (this.contentAnime) this.contentAnime.pause();\n    this.contentAnime = anime({ ...this.content, ...contentOut });\n  }\n};\n\nAnimationBlock.prototype.complete = function complete(ani) {\n  if (this.loop) {\n    this.loop.forEach((item) => {\n      if (item) {\n        if (!ani.reversed) {\n          item.play();\n        } else {\n          item.restart();\n          item.pause();\n        }\n      }\n    });\n  }\n};\n\nexport const welcome = new AnimationBlock(\n  {\n    targets: '#svg-emeehan',\n    translateX: ['-20%', '-12%'],\n    translateY: ['100%', '-2%'],\n    scale: [0.5, 1.25],\n    opacity: [1, 1],\n  },\n  false,\n  {\n    targets: '.intro__content--welcome .ani-block'\n  },\n  '#hit-1'\n);\n\nexport const origin = new AnimationBlock(\n  {\n    targets: '#svg-hawaii',\n    translateX: ['-20%', '-8%'],\n    translateY: ['100%', '7%'],\n    scale: [0.5, 1.1],\n    opacity: [1, 1],\n  }, [\n    anime.timeline({\n      duration: 2800,\n      easing: 'linear',\n      loop: true,\n      autoplay: false,\n    }).add({\n      targets: '#waves .wave-left',\n      translateX: '2%',\n      opacity: [{ value: 1 }, { value: 0 }],\n      delay: anime.stagger(800, { from: 'last' })\n    }).add({\n      targets: '#waves .wave-right',\n      translateX: '-2%',\n      opacity: [{ value: 1 }, { value: 0 }],\n      delay: anime.stagger(800, { from: 'last' })\n    }, '-=1400'),\n    anime.timeline({\n      duration: 300,\n      easing: 'linear',\n      autoplay: false,\n    }).add({\n      targets: '#pin',\n      translateX: ['3%', '0%'],\n      translateY: ['-18%', '0%'],\n      opacity: [0, 1],\n    }, 0).add({\n      targets: '#pin-shadow',\n      translateX: ['10%', '0%'],\n      translateY: ['7%', '0%'],\n      opacity: [0, 0.3],\n    }, 0)\n  ], {\n    targets: '.intro__content--origin .ani-block',\n  },\n  '#hit-2'\n);\n\nexport const recreation = new AnimationBlock(\n  {\n    targets: '#svg-surf',\n    translateX: ['-20%', '-5%'],\n    translateY: ['100%', '0%'],\n    scale: [0.5, 1.15],\n    opacity: [1, 1],\n  }, anime({\n    targets: '#leash-hang',\n    rotate: [5, -3],\n    easing: 'easeInOutQuad',\n    loop: true,\n    direction: 'alternate',\n    duration: 1200,\n    autoplay: false,\n  }), {\n    targets: '.intro__content--recreation .ani-block'\n  },\n  '#hit-3'\n);\n\nexport const family = new AnimationBlock(\n  {\n    targets: '#svg-ali-tink',\n    translateX: ['-20%', '-1%'],\n    translateY: ['100%', '6%'],\n    scale: [0.5, 1.05],\n    opacity: [1, 1],\n  }, [\n    anime({\n      targets: '#tink-tail',\n      loop: true,\n      easing: 'linear',\n      direction: 'alternate',\n      duration: 1400,\n      endDelay: 1100,\n      autoplay: false,\n      rotate: [12, -2, 7, -2, 7, -2, 2, -2]\n    }),\n    anime({\n      targets: '#tink-head',\n      loop: true,\n      easing: 'linear',\n      direction: 'alternate',\n      duration: 450,\n      delay: 4200,\n      endDelay: 500,\n      rotate: 5,\n      autoplay: false,\n    }),\n    anime({\n      duration: 1000,\n      endDelay: 1000,\n      delay: 8000,\n      easing: 'steps(1)',\n      loop: true,\n      autoplay: false,\n      targets: '#ali-face-resting',\n      opacity: 0\n    }),\n    anime({\n      delay: 8000,\n      duration: 1000,\n      endDelay: 1000,\n      easing: 'steps(1)',\n      loop: true,\n      autoplay: false,\n      targets: '#ali-face-smile',\n      opacity: [0, 1]\n    })\n  ], {\n    targets: '.intro__content--family .ani-block'\n  },\n  '#hit-4'\n);\n","import 'custom-event-polyfill';\n\nclass ScrollIntoView {\n  constructor() {\n    // Set arguments to properties\n    this.eventLabel = 'is_visible';\n    this.watchArray = [];\n    // Utility variables for `requestAnimationFrame`\n    this.rafId = undefined;\n    this.rafActive = false;\n    // Stuff\n    this.target = 0;\n    this.windowHeight = 0;\n    // Add listeners and start this party\n    window.addEventListener('scroll', this.scroll.bind(this));\n    window.addEventListener('resize', this.resized.bind(this));\n  }\n\n  get event() {\n    return this.eventLabel;\n  }\n\n  get watching() {\n    return this.watchArray;\n  }\n\n  /**\n   * add elements to watch and trigger events from\n   * does not work with single node return and must be\n   * a nodeList or htmlcollection\n   * TODO: make work for single or collection of nodes\n   */\n  add(nodeList) {\n    this.watchArray = this.watchArray.concat(\n      // make sure not to add duplicates\n      [...nodeList].filter((item) => this.watchArray.indexOf(item) < 0)\n    );\n    this.setup();\n  }\n\n  /**\n   * remove elements from watch\n   */\n  remove(nodeList) {\n    this.watchArray = this.watchArray.filter((item) => [...nodeList].indexOf(item) < 0);\n    this.setup();\n  }\n\n  /**\n   * getting dimensions info\n   * and other layout information\n   */\n  setup() {\n    this.windowHeight = window.innerHeight;\n    this.target = window.scrollY || window.pageYOffset;\n\n    this.startAnimation();\n  }\n\n  /**\n   * Acts as a throttle for scrolling listener\n   * checks to see if animation frame has been\n   * requested and if so then let it handle the\n   * callback\n   */\n  startAnimation() {\n    if (!this.rafActive && this.watchArray.length > 0) {\n      this.rafActive = true;\n      this.rafId = requestAnimationFrame(this.updateAnimation.bind(this));\n    }\n  }\n\n  /**\n   * Request Animation Frame Callback\n   * This is the work horse function\n   * safe to place more complex logic\n   * here - but don't be greedy\n   */\n  updateAnimation() {\n    const height = this.windowHeight,\n      half = (height / 2);\n    // loops array and filters out visable elements\n    // and adds some info to use in the UI\n    this.watchArray.forEach((item) => {\n      const rect = item.getBoundingClientRect(),\n        isVisable = rect.top < height && rect.bottom > 0;\n      let pixels;\n\n      if (!isVisable) return false;\n\n      // simple math to show % of visable element on screen\n      pixels = height - rect.bottom;\n      pixels = height - (rect.top > 0 ? rect.top : 0) - (pixels > 0 ? pixels : 0);\n\n      item.dispatchEvent(\n        new CustomEvent(this.eventLabel, {\n          bubbles: false,\n          detail: {\n            rect,\n            node: (pixels / rect.height).toFixed(3) * 1,\n            window: (pixels / height).toFixed(3) * 1,\n            focused: rect.top < half && rect.bottom > half\n          }\n        })\n      );\n\n      return true;\n    });\n\n    this.rafActive = false;\n    cancelAnimationFrame(this.rafId);\n  }\n\n  // bound to resize event\n  resized() {\n    this.setup();\n  }\n\n  // bound to scroll event\n  scroll() {\n    this.target = window.scrollY || window.pageYOffset;\n    this.startAnimation();\n  }\n}\n\nexport default new ScrollIntoView();\n","import scroll from './modules/scroll_into_view';\nimport * as aniIntro from './modules/animations_index_intro';\nimport * as aniHireMe from './modules/animations_index_hireme';\n\nconst introScrollerNode = document.getElementById('intro-scroll'),\n  hireMeNode = document.getElementById('hire-me'),\n  introScrollerContentNodes = introScrollerNode.getElementsByClassName('intro__content'),\n  hireMeScrollerNodes = hireMeNode.querySelectorAll('[data-animate]'),\n  isMobileMQ = window.matchMedia('(max-width: 767px)');\n\nlet fakeScrollNode,\n  contentNodeOfFocus = false,\n  wrapperFixed = true;\n\n/**\n * we need to build a block to displace for our scroller\n * this function will make it or modify the node if passed\n * back as an argument\n * @param {Element} node prepFake DOM node\n * @returns {Element} prepFake DOM node\n */\nconst prepFakeScroll = (node) => {\n  const fakeScroll = node || document.createElement('div');\n  // build the scroll height from the content\n  if (node) {\n    [...introScrollerContentNodes].forEach((item, index) => {\n      const scrollShim = node.children[index];\n      scrollShim.style.height = `${item.getBoundingClientRect().height}px`;\n    });\n  } else {\n    [...introScrollerContentNodes].forEach((item) => {\n      const scrollShim = document.createElement('div');\n      scrollShim.style.height = `${item.getBoundingClientRect().height}px`;\n      scrollShim.className = 'scroll-shim';\n      scrollShim.id = item.dataset.scroll;\n      fakeScroll.appendChild(scrollShim);\n    });\n  }\n  // only if node was not passed to we insert in DOM\n  if (!node) {\n    fakeScroll.className = 'hidden';\n    introScrollerNode.appendChild(fakeScroll);\n  }\n  // just return the element node, because why not\n  return fakeScroll;\n};\n\n/**\n * we need to do some prep for animations\n * like moving the transform origin location\n * and other things\n */\nconst prepForAnimation = () => {\n  const animationNodes = introScrollerNode.getElementsByClassName('ani-block');\n\n  // check if mobile break point\n  // if not mobile then do some math\n  if (!isMobileMQ.matches) {\n    const computedStyles = getComputedStyle(introScrollerContentNodes[0]),\n      leftMargin = parseInt(computedStyles.marginLeft, 0),\n      leftPadding = parseInt(computedStyles.paddingLeft, 0);\n\n    // setting transform origin for animation blocks\n    [...animationNodes].forEach((item) => {\n      item.style.transformOrigin = `-${(leftMargin / 2) + leftPadding}px 50%`;\n    });\n  } else { // else lets do some stuff for the mobile layout\n    [...animationNodes].forEach((item) => {\n      item.style.transformOrigin = '50% -100px';\n    });\n  }\n};\n\n/**\n * attached to scroll listener and fires when\n * dom node is visible on screen\n * @param {Event} event listener object\n */\nconst introScrollerVisibleListener = ({ target, detail: { rect, window: visible } }) => {\n  const name = target.id;\n  // controls which scroll element is in focus\n  // we do some class toggles to make text and buttons clickable\n  if (visible > 0.65 && name !== contentNodeOfFocus) {\n    if (contentNodeOfFocus) {\n      introScrollerNode.querySelector(`[data-scroll=\"${contentNodeOfFocus}\"]`).classList.remove('intro__content--focus');\n      aniIntro[contentNodeOfFocus].playOut();\n    }\n    contentNodeOfFocus = name;\n    introScrollerNode.querySelector(`[data-scroll=\"${name}\"]`).classList.add('intro__content--focus');\n    aniIntro[name].playIn();\n  }\n  // when we scroll off screen we need to switch from\n  // position fixed so the elements will go off screen\n  if (target === fakeScrollNode.lastChild) {\n    if (rect.bottom <= rect.height && wrapperFixed) {\n      wrapperFixed = false;\n      introScrollerNode.classList.add('intro--not-fixed');\n    }\n    if (rect.bottom > rect.height && !wrapperFixed) {\n      wrapperFixed = true;\n      introScrollerNode.classList.remove('intro--not-fixed');\n    }\n  } else if (introScrollerNode.classList.contains('intro--not-fixed')) {\n    introScrollerNode.classList.remove('intro--not-fixed');\n  }\n};\n\n/**\n * attached to scroll listener and fires when\n * dom node is visible on screen\n * @param {Event} event listener object\n */\nconst hireMeScrollerVisibleListener = ({ target: node, detail: { node: visible } }) => {\n  let cleanup = false;\n\n  // animate when greater than 65% in view\n  if (visible > 0.65) {\n    cleanup = true;\n    if (node.dataset.animate) aniHireMe[node.dataset.animate].play();\n  }\n\n  // clean up listeners\n  if (cleanup) {\n    node.removeEventListener(scroll.event, hireMeScrollerVisibleListener);\n    scroll.remove([node]);\n  }\n};\n\n/**\n * attached to scroll listener and fires when\n * dom node is visible on screen\n * @param {Event} event listener object\n */\nconst introScrollerProgressListener = ({ detail: { rect } }) => {\n  const windowHeight = window.innerHeight,\n    boxHeight = rect.height - windowHeight,\n    boxBottom = rect.bottom - windowHeight,\n    percent = (((boxBottom / boxHeight)) * 100).toFixed(0) - 10;\n\n  if (percent > 0) {\n    document.getElementById('prgress-target').setAttribute('y', `-${percent}%`);\n  } else {\n    document.getElementById('prgress-target').setAttribute('y', '0%');\n  }\n};\n\n/**\n * something changed so we need to\n * figure out the new dimensions\n */\nconst recalculate = () => {\n  prepFakeScroll(fakeScrollNode);\n  prepForAnimation();\n};\n\n/**\n * this is what gets the whole party started!\n */\nconst init = () => {\n  fakeScrollNode = prepFakeScroll();\n  prepForAnimation();\n  // setup the scroller events\n  scroll.add(fakeScrollNode.children);\n  scroll.add(hireMeScrollerNodes);\n  scroll.add([hireMeNode]);\n  // setup the scroller listeners for intro section\n  [...fakeScrollNode.children].forEach((item) => {\n    item.addEventListener(scroll.event, introScrollerVisibleListener);\n  });\n  // setup the scroller listeners for the hireme section\n  [...hireMeScrollerNodes].forEach((item) => {\n    item.addEventListener(scroll.event, hireMeScrollerVisibleListener);\n  });\n  // intro section listener\n  document.getElementById('intro').addEventListener(scroll.event, introScrollerProgressListener);\n  // hireme node listener - fix bug when we jump to hire me section\n  hireMeNode.addEventListener(scroll.event, () => {\n    if (!introScrollerNode.classList.contains('intro--not-fixed')) introScrollerNode.classList.add('intro--not-fixed');\n  });\n  // listen for change to recalculate\n  window.addEventListener('resize', recalculate);\n};\n\n/**\n * must be at bottom\n * this kicks off the party!\n */\ninit();\n","/*\n * anime.js v3.1.0\n * (c) 2019 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.round(t * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.1.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {};\n      params.bubbles = !!params.bubbles;\n      params.cancelable = !!params.cancelable;\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n"],"sourceRoot":""}