(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,n){"use strict";n(2);function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventLabel="is_visible",this.watchArray=[],this.rafId=void 0,this.rafActive=!1,this.target=0,this.windowHeight=0,window.addEventListener("scroll",this.scroll.bind(this)),window.addEventListener("resize",this.resized.bind(this))}var e,n,r;return e=t,(n=[{key:"add",value:function(t){var e=this;this.watchArray=this.watchArray.concat(i(t).filter((function(t){return e.watchArray.indexOf(t)<0}))),this.setup()}},{key:"remove",value:function(t){this.watchArray=this.watchArray.filter((function(e){return i(t).indexOf(e)<0})),this.setup()}},{key:"setup",value:function(){this.windowHeight=window.innerHeight,this.target=window.scrollY||window.pageYOffset,this.startAnimation()}},{key:"startAnimation",value:function(){!this.rafActive&&this.watchArray.length>0&&(this.rafActive=!0,this.rafId=requestAnimationFrame(this.updateAnimation.bind(this)))}},{key:"updateAnimation",value:function(){var t=this,e=this.windowHeight,n=e/2;this.watchArray.forEach((function(i){var r,o=i.getBoundingClientRect();return o.top<e&&o.bottom>0&&(r=e-o.bottom,r=e-(o.top>0?o.top:0)-(r>0?r:0),i.dispatchEvent(new CustomEvent(t.eventLabel,{bubbles:!1,detail:{rect:o,node:1*(r/o.height).toFixed(3),window:1*(r/e).toFixed(3),focused:o.top<n&&o.bottom>n}})),!0)})),this.rafActive=!1,cancelAnimationFrame(this.rafId)}},{key:"resized",value:function(){this.setup()}},{key:"scroll",value:function(){this.target=window.scrollY||window.pageYOffset,this.startAnimation()}},{key:"event",get:function(){return this.eventLabel}},{key:"watching",get:function(){return this.watchArray}}])&&o(e.prototype,n),r&&o(e,r),t}();e.a=new a},2:function(t,e){!function(){if("undefined"!=typeof window)try{var t=new window.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var e=function(t,e){var n,i;return(e=e||{}).bubbles=!!e.bubbles,e.cancelable=!!e.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};e.prototype=window.Event.prototype,window.CustomEvent=e}}()},30:function(t,e,n){"use strict";n.r(e);var i=n(0);function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e,n,o){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.backgroundEle=n,this.randomCeiling=o,this.prevRandom=null,this.sectionInFocus=null,i.a.add(e),r(e).forEach((function(t){t.addEventListener(i.a.event,a.isVisible.bind(a))}))}var e,n,o;return e=t,(n=[{key:"isVisible",value:function(t){var e=t.target,n=t.detail.focused;this.sectionInFocus!==e&&n&&(this.sectionInFocus=e,this.changeBackground())}},{key:"changeBackground",value:function(){var t,e=document.createElement("div");do{t=Math.floor(Math.random()*this.randomCeiling)+1}while(t===this.prevRandom);this.prevRandom=t,r(this.backgroundEle.children).forEach((function(t){t.classList.remove("background--visible"),t.addEventListener("transitionend",(function(t){t.target.remove()}))})),e.classList.add("background","".concat("background","__").concat(t)),this.backgroundEle.appendChild(e),setTimeout((function(){e.classList.add("background--visible")}),5)}},{key:"active_section",get:function(){return this.sectionInFocus}}])&&a(e.prototype,n),o&&a(e,o),t}(),s=function(t){var e=document.getElementsByTagName("script")[0],n=document.createElement("script");n.src=t,e.parentNode.insertBefore(n,e)};n(2);function u(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l=document.getElementById("page-shadow"),f=document.getElementById("document"),h=document.querySelectorAll("#contact-form input, #contact-form textarea");function v(t){this===t.target&&(this.style.display="none",this.removeEventListener("transitionend",v),window.activeAside=null)}function m(t){var e=t.detail.target;"#aside-livechat"===(void 0===e?null:e)&&(s(window.liveChatScriptPath),f.removeEventListener("aside.show",m))}function w(t){var e=t.detail,n=(e=void 0===e?{}:e).target,i=void 0===n?null:n,r=t.element||document.querySelector(i);r.addEventListener("transitionend",v),r.classList.remove("active"),f.classList.remove("active"),document.body.classList.remove("locked")}function y(){s(window.contactScriptPath),u(h).forEach((function(t){t.removeEventListener("focus",y)}))}window.sections=new c(document.querySelectorAll("[data-change-bkg]"),document.getElementById("page-background"),window.backgroundCount||1);var b=function(t){var e=t.target.dataset.scrollTo,n=document.getElementById(e).getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop;return window.scrollTo(0,n.top+i),!1};f&&(f.addEventListener("aside.show",(function(t){var e=t.detail,n=(e=void 0===e?{}:e).target,i=void 0===n?null:n,r=t.element||document.querySelector(i),o=i.substring(1),a="show-".concat(o);if(window.activeAside){if(r===window.activeAside)return;w({element:window.activeAside})}window.dataLayer.push({event:a,event_label:o}),window.activeAside=r,r.style.display=null,setTimeout((function(){r.classList.add("active"),f.classList.add("active"),document.body.classList.add("locked")}),50)})),f.addEventListener("aside.show",m),f.addEventListener("aside.hide",w),u(document.getElementsByClassName("js-aside-show")).forEach((function(t){t.addEventListener("click",(function(){f.dispatchEvent(new CustomEvent("aside.show",{bubbles:!1,detail:t.dataset}))}))})),u(document.getElementsByClassName("js-aside-hide")).forEach((function(t){t.addEventListener("click",(function(){f.dispatchEvent(new CustomEvent("aside.hide",{bubbles:!1,detail:t.dataset}))}))}))),l&&l.addEventListener("click",(function(){window.activeAside&&w({element:window.activeAside})})),h&&u(h).forEach((function(t){t.addEventListener("focus",y)})),u(document.querySelectorAll("[data-scroll-to]")).forEach((function(t){t.addEventListener("click",b)}))}},[[30,0]]]);
//# sourceMappingURL=main.js.map