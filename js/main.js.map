{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./_javascript/modules/scrolling_in_view.js","webpack:///./_javascript/main.js","webpack:///./_javascript/modules/sections_manager.js","webpack:///./node_modules/custom-event-polyfill/polyfill.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_default","elements","eventLabel","_this","this","_classCallCheck","that","raf","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","boundaryArray","scrollTop","scrollY","pageYOffset","length","resized","addEventListener","event","loop","scroll","windowHeight","innerHeight","windowHalf","Math","round","documentHeight","document","body","offsetHeight","documentHalf","measure","updatedElements","Array","isArray","top","offsetTop","height","bottom","index","visibility","slice","flipped","scrollBottom","windowMiddle","reverse","dispatchEvent","CustomEvent","bubbles","detail","middle","element","sections","hideEndEvent","target","style","display","removeEventListener","activeAside","asideHideEvent","_ref2","aside","querySelector","classList","remove","docEle","getElementById","_ref","setTimeout","add","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","getElementsByClassName","iterator","next","done","dataset","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","shadow","background","randomCeiling","arguments","backgroundClass","backgroundVisibleClass","sectionActiveClass","sections_manager_classCallCheck","sectionsEle","backgroundEle","viewEvents","ViewEvents","concat","prevRandom","sectionInFocus","sectionInFocusClass","isVisible","changeBackground","random","div","createElement","floor","children","appendChild","backgroundCount","ce","cancelable","preventDefault","defaultPrevented","Error","e","params","evt","origPrevent","createEvent","initCustomEvent","Event"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","export default class {\n\n    constructor ( elements, eventLabel ) {\n        let that = this,\n            raf = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;\n\n        // set some property values\n        this.eventLabel = eventLabel;\n        this.elements = elements;\n        this.boundaryArray = [];\n        this.scrollTop = window.scrollY || window.pageYOffset;\n        \n        // if we have scroll elements, then lets do this.\n        if (elements.length > 0) {\n            // call function to get some measurements        \n            this.resized();\n\n            // resize listener\n            window.addEventListener('resize', (event) => {\n                this.resized();\n            });\n\n            if (raf) loop();\n        }\n\n        function loop() {\n            let scrollTop = window.scrollY || window.pageYOffset;\n\n            if (that.scrollTop === scrollTop) {\n                raf(loop);\n                return;\n            } else {\n                that.scrollTop = scrollTop;\n                that.scroll();\n                raf(loop);\n            }\n        }\n    }\n\n    get boundary() {\n        return this.boundaryArray;\n    }\n\n    resized() {\n        this.windowHeight = window.innerHeight;\n        this.windowHalf = Math.round(this.windowHeight * 0.5);\n        this.documentHeight = document.body.offsetHeight;\n        this.documentHalf = Math.round(this.documentHeight * 0.5);\n        this.measure();\n    }\n\n    measure(updatedElements) {\n        if (updatedElements && Array.isArray(updatedElements)) {\n            this.elements = updatedElements;\n        }\n        for (let i = this.elements.length; i--;) {\n            let top = this.elements[i].offsetTop,\n                height = this.elements[i].offsetHeight,\n                bottom = top + height;\n\n            this.boundaryArray[i] = {\n                top,\n                height,\n                bottom,\n                index: i\n            };\n        }\n    }\n\n    scroll() {\n        // clone array\n        let elements = this.boundaryArray.slice(0),\n            flipped = false,\n            scrollBottom = this.scrollTop + this.windowHeight,\n            windowMiddle = this.scrollTop + this.windowHalf,\n            visibility;\n        // check how far we scrolled - and flip the array to make\n        // searching faster\n        if ((this.scrollTop + this.windowHalf) < this.documentHalf) {\n            flipped = true;\n            elements.reverse();\n        }\n\n        for (let i = elements.length; i--;) {\n            // check if all other elements our out of the window\n            // and exit the loop to save some resources\n            if (flipped && scrollBottom < elements[i].top) break;\n            if (!flipped && this.scrollTop > elements[i].bottom) break;\n            // okay now check if the element is visible and by how much\n\n            // in order to be visible these basic rules must be true\n            if (elements[i].top < scrollBottom && elements[i].bottom > this.scrollTop) {\n\n                if (elements[i].top < this.scrollTop) {\n                    if (elements[i].bottom < scrollBottom) {\n                        // visible but off the top\n                        visibility = 'top';\n                    } else {\n                        // visible but bigger then screen\n                        visibility = 'large';\n                    }\n                } else {\n                    if (elements[i].bottom < scrollBottom) {\n                        // visible but smaller then screen\n                        visibility = 'small';\n                    } else {\n                        // visible but off bottom\n                        visibility = 'bottom';\n                    }\n                }\n\n                this.elements[elements[i].index].dispatchEvent(new CustomEvent(this.eventLabel, {\n                    bubbles: false,\n                    detail: {\n                        visibility,\n                        window: {\n                            top: this.scrollTop,\n                            bottom: scrollBottom,\n                            middle: windowMiddle,\n                            height: this.windowHeight,\n                        },\n                        element: {\n                            top: elements[i].top,\n                            bottom: elements[i].bottom,\n                            height: elements[i].height\n                        }\n                    }\n                }));\n            }\n        }\n    }\n}","import SectionManager from './modules/sections_manager';\n\n(function(sections) {\n    'use strict';\n\n    // section manager controls background and\n    // events when sections become visible\n    window.sections = sections;\n\n    var hideEndEvent = function(event) {\n        // condtion out bubbled events\n        if(this === event.target){\n            this.style.display = 'none';\n            this.removeEventListener('transitionend', hideEndEvent);\n            window.activeAside = null;\n        }\n    }\n\n    var asideShowEvent = function({detail, element}) {\n        let aside = element || document.querySelector(detail.target);\n        \n        // handle active aside first\n        // - can also toggle\n        if (window.activeAside) {\n            if (aside === window.activeAside) return;\n            asideHideEvent({element:window.activeAside});\n        }\n\n        window.activeAside = aside;\n\n        aside.style.display = null;\n\n        setTimeout(function(){\n            //add classes to trigger animation\n            aside.classList.add('active');\n            docEle.classList.add('active');\n            // locks body to prevent scrolling\n            document.body.classList.add('locked');\n        },50);\n    }\n\n    var asideHideEvent = function({detail, element}) {\n        let aside = element || document.querySelector(detail.target);\n        //add listener for end of transition event\n        aside.addEventListener('transitionend', hideEndEvent);\n        //add classes to trigger animation\n        aside.classList.remove('active');\n        docEle.classList.remove('active');\n        // locks body to prevent scrolling\n        document.body.classList.remove('locked');\n    }\n\n    let docEle = document.getElementById('document');\n    if (docEle) {\n        docEle.addEventListener('aside.show', asideShowEvent);\n        docEle.addEventListener('aside.hide', asideHideEvent);\n\n        for(let asideShow of document.getElementsByClassName('js-aside-show')){\n            asideShow.addEventListener('click', function(event){\n                docEle.dispatchEvent(new CustomEvent('aside.show', { bubbles: false, detail: this.dataset }));\n            });\n        }\n\n        for(let asideHide of document.getElementsByClassName('js-aside-hide')){\n            asideHide.addEventListener('click', function(event){\n                docEle.dispatchEvent(new CustomEvent('aside.hide', { bubbles: false, detail: this.dataset }));\n            });\n        }\n    }\n\n    let shadow = document.getElementById('page-shadow');\n    if (shadow) {\n        shadow.addEventListener('click', function(event){\n            if(window.activeAside) asideHideEvent({element:window.activeAside});\n        })\n    }\n        \n})(\n    new SectionManager({\n        sections: document.getElementsByClassName('js-scroll-in-view'),\n        background: document.getElementById('page-background'),\n        randomCeiling: window.backgroundCount || 1\n    })\n);","import \"custom-event-polyfill\";\nimport ViewEvents from './scrolling_in_view';\n\nexport default class {\n\n    constructor(\n        {sections, background, randomCeiling},\n        eventLabel = 'view_event',\n        backgroundClass = 'background',\n        backgroundVisibleClass = 'visible',\n        sectionActiveClass = 'active'\n    ) {\n\n        this.backgroundClass = backgroundClass;\n        this.backgroundVisibleClass = backgroundVisibleClass;\n        this.eventLabel = eventLabel;\n        this.sectionsEle = sections;\n        this.backgroundEle = background;\n        this.viewEvents = new ViewEvents(sections, `${eventLabel}_visible`);\n        this.randomCeiling = randomCeiling;\n        this.prevRandom = null;\n        this.sectionInFocus = null;\n        this.sectionInFocusClass = sectionActiveClass;\n\n        // add visibile listener\n        for (let item of sections) {\n            item.addEventListener(`${this.eventLabel}_visible`, this.isVisible.bind(this));\n        }\n\n        // init scroll to get started\n        this.viewEvents.scroll();\n    }\n\n    get sections() {\n        return this.sectionsEle;\n    }\n\n    get background() {\n        return this.backgroundEle;\n    }\n\n    get active_section() {\n        return this.sectionInFocus;\n    }\n\n    get view_event() {\n        return this.viewEvents;\n    }\n\n    isVisible(event) {\n        if (\n            this.sectionInFocus !== event.target &&\n            event.detail.element.top < event.detail.window.middle &&\n            event.detail.element.bottom > event.detail.window.middle\n        ) {\n            // check if hass classList - not the null value form init\n            if (this.sectionInFocus !== null) {\n                this.sectionInFocus.dispatchEvent(new CustomEvent(`${this.eventLabel}_blur`, { bubbles: false }));\n            }\n            \n            this.sectionInFocus = event.target;\n            this.changeBackground();\n            \n            this.sectionInFocus.dispatchEvent(new CustomEvent(`${this.eventLabel}_focus`, { bubbles: false }));\n        }        \n    }\n\n    changeBackground() {\n        let div = document.createElement('div'),\n            random;\n\n        // get a new random number differnt from the last\n        do\n          random = Math.floor(Math.random() * this.randomCeiling) + 1;\n        while (random === this.prevRandom);\n\n        this.prevRandom = random;\n\n        div.classList.add(this.backgroundClass, `${this.backgroundClass}__${random}`);\n\n        // find and remove old backgrounds\n        for (let children of this.backgroundEle.children) {\n            children.classList.remove(`${this.backgroundClass}--${this.backgroundVisibleClass}`);\n            children.addEventListener('transitionend', function(){\n                this.remove();\n            });\n        }\n\n        // add new background\n        this.backgroundEle.appendChild(div);\n\n        // add the class to trigger transition\n        setTimeout(function(){\n            div.classList.add(`${this.backgroundClass}--${this.backgroundVisibleClass}`);\n        }.bind(this), 5);\n    }\n}","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n"],"sourceRoot":""}